(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[20016],{7740:((T,b,l)=>{"use strict";l(67032),l(25540),app.onDomReady(),(function(){Promise.all([l.e(6411),l.e(61396)]).then(function(){var r=[l(91749),l(54222),l(26519)];((s,u,m)=>{s.on("action:ajaxify.end",t=>{v(t.url),y(),n(),m.start(app.config.adminReloginDuration),$('[data-bs-toggle="tooltip"]').tooltip({animation:!1,container:"#content"}),$(".settings").length&&u.prepare(),$('[component="settings/toc"]').length&&u.populateTOC()}),s.on("action:ajaxify.start",function(){Promise.resolve().then(function(){var t=[l(89336)];(function(e){const a=e.Offcanvas.getInstance("#offcanvas");a&&a.hide()}).apply(null,t)}).catch(l.oe)})}).apply(null,r)}).catch(l.oe);function n(){const r=$('[component="acp/accordion"]');let s=window.location.pathname;s==="/admin"&&(s="/admin/dashboard");const u=r.find(`a[href="${s}"]`);u.length&&(r.find("a").removeClass("active"),r.find(".accordion-collapse").removeClass("show"),u.addClass("active"),u.parents(".accordion-collapse").addClass("show"))}$(document).ready(function(){Promise.all([l.e(6411),l.e(95903)]).then(function(){var r=[l(5117)];(function(s){s.init()}).apply(null,r)}).catch(l.oe),$('[component="logout"]').on("click",function(){return l.e(20739).then(function(){var r=[l(75427)];(function(s){s()}).apply(null,r)}).catch(l.oe),!1}),h(),g()});function g(){const r=$("#offcanvas #accordionACP");r.attr("id","accordionACP-offcanvas"),r.find("[data-bs-target]").each((s,u)=>{$(u).attr("data-bs-target",$(u).attr("data-bs-target")+"-offcanvas")}),r.find("[data-bs-parent]").each((s,u)=>{$(u).attr("data-bs-parent","#accordionACP-offcanvas")}),r.find(".accordion-collapse").each((s,u)=>{$(u).attr("id",$(u).attr("id")+"-offcanvas")})}function h(){l.e(5947).then(function(){var r=[l(5947),l(91749)];(function(s,u){$(window).on("action:ajaxify.start",function(){s.set(.7)}),u.on("action:ajaxify.end",function(){s.done()})}).apply(null,r)}).catch(l.oe)}function v(r){Promise.resolve().then(function(){var s=[l(17459)];(function(u){r=r.replace(/\/\d+$/,"").split("/").slice(0,3).join("/").split(/[?#]/)[0].replace(/(\/+$)|(^\/+)/,""),r==="admin"&&(r="admin/dashboard"),r=[config.relative_path,r].join("/");let m;$(`[component="acp/accordion"] a[href="${r}"]`).each(function(){m=$(this).text()});let t,e;if(/admin\/plugins\//.test(r))t=m,e="[[admin/menu:section-plugins]] > "+t;else{const a=r.match(/admin\/(.+?)\/(.+?)$/);a?(t="[[admin/menu:"+a[1]+"/"+a[2]+"]]",e="[[admin/menu:section-"+(a[1]==="development"?"advanced":a[1])+"]]"+(a[2]?" > "+t:""),a[2]==="settings"&&(t=u.compile("admin/menu:settings.page-title",t))):(t="[[admin/menu:section-dashboard]]",e="[[admin/menu:section-dashboard]]")}e=u.compile("admin/admin:acp-title",e),u.translate(e,function(a){document.title=a.replace(/&gt;/g,">")})}).apply(null,s)}).catch(l.oe)}function y(){l.e(32050).then(function(){var r=[l(81335),l(33530),l(27270)];(function(s,u,m){s.render("partials/toast",{}).then(function(){$('[component="rebuild-and-restart"]').off("click").on("click",function(){u.confirm("[[admin/admin:alert.confirm-rebuild-and-restart]]",function(t){t&&m.rebuildAndRestart()})}),$('[component="restart"]').off("click").on("click",function(){u.confirm("[[admin/admin:alert.confirm-restart]]",function(t){t&&m.restart()})})})}).apply(null,r)}).catch(l.oe)}})()}),25540:((T,b,l)=>{(function(n){"use strict";var g={tagClass:function(t){return"label label-info"},focusClass:"focus",itemValue:function(t){return t&&t.toString()},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function h(t,e){this.isInit=!0,this.itemsArray=[],this.$element=n(t),this.$element.hide(),this.isSelect=t.tagName==="SELECT",this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=n('<div class="bootstrap-tagsinput"></div>'),this.$input=n('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(e),this.isInit=!1}h.prototype={constructor:h,add:function(t,e,a){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags)&&!(t!==!1&&!t)){if(typeof t=="string"&&i.options.trimValue&&(t=n.trim(t)),typeof t=="object"&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),typeof t=="string"&&this.$element[0].tagName==="INPUT"){var o=i.options.delimiterRegex?i.options.delimiterRegex:i.options.delimiter,d=t.split(o);if(d.length>1){for(var c=0;c<d.length;c++)this.add(d[c],!0);e||i.pushVal(i.options.triggerChange);return}}var f=i.options.itemValue(t),p=i.options.itemText(t),R=i.options.tagClass(t),A=i.options.itemTitle(t),x=n.grep(i.itemsArray,function(V){return i.options.itemValue(V)===f})[0];if(x&&!i.options.allowDuplicates){if(i.options.onTagExists){var E=n(".tag",i.$container).filter(function(){return n(this).data("item")===x});i.options.onTagExists(t,E)}return}if(!(i.items().toString().length+t.length+1>i.options.maxInputLength)){var C=n.Event("beforeItemAdd",{item:t,cancel:!1,options:a});if(i.$element.trigger(C),!C.cancel){i.itemsArray.push(t);var I=n('<span class="tag '+s(R)+(A!==null?'" title="'+A:"")+'">'+s(p)+'<span data-role="remove"></span></span>');if(I.data("item",t),i.findInputWrapper().before(I),I.after(" "),i.isSelect){var P=n('option[value="'+encodeURIComponent(f)+'"]',i.$element).length||n('option[value="'+s(f)+'"]',i.$element).length;if(!P){var K=n("<option selected>"+s(p)+"</option>");K.data("item",t),K.attr("value",f),i.$element.append(K)}}e||i.pushVal(i.options.triggerChange),(i.options.maxTags===i.itemsArray.length||i.items().toString().length===i.options.maxInputLength)&&i.$container.addClass("bootstrap-tagsinput-max"),n(".typeahead, .twitter-typeahead",i.$container).length&&i.$input.typeahead("val",""),this.isInit?i.$element.trigger(n.Event("itemAddedOnInit",{item:t,options:a})):i.$element.trigger(n.Event("itemAdded",{item:t,options:a}))}}}}},remove:function(t,e,a){var i=this;if(i.objectItems&&(typeof t=="object"?t=n.grep(i.itemsArray,function(d){return i.options.itemValue(d)==i.options.itemValue(t)}):t=n.grep(i.itemsArray,function(d){return i.options.itemValue(d)==t}),t=t[t.length-1]),t){var o=n.Event("beforeItemRemove",{item:t,cancel:!1,options:a});if(i.$element.trigger(o),o.cancel)return;n(".tag",i.$container).filter(function(){return n(this).data("item")===t}).remove(),n("option",i.$element).filter(function(){return n(this).data("item")===t}).remove(),n.inArray(t,i.itemsArray)!==-1&&i.itemsArray.splice(n.inArray(t,i.itemsArray),1)}e||i.pushVal(i.options.triggerChange),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(n.Event("itemRemoved",{item:t,options:a}))},removeAll:function(){var t=this;for(n(".tag",t.$container).remove(),n("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;n(".tag",t.$container).each(function(){var e=n(this),a=e.data("item"),i=t.options.itemValue(a),o=t.options.itemText(a),d=t.options.tagClass(a);if(e.attr("class",null),e.addClass("tag "+s(d)),e.contents().filter(function(){return this.nodeType==3})[0].nodeValue=s(o),t.isSelect){var c=n("option",t.$element).filter(function(){return n(this).data("item")===a});c.attr("value",i)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,e=n.map(t.items(),function(a){return t.options.itemValue(a).toString()});t.$element.val(e,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var e=this;if(e.options=n.extend({},g,t),e.objectItems&&(e.options.freeInput=!1),v(e.options,"itemValue"),v(e.options,"itemText"),y(e.options,"tagClass"),e.options.typeahead){var a=e.options.typeahead||{};y(a,"source"),e.$input.typeahead(n.extend({},a,{source:function(c,f){function p(x){for(var E=[],C=0;C<x.length;C++){var I=e.options.itemText(x[C]);R[I]=x[C],E.push(I)}f(E)}this.map={};var R=this.map,A=a.source(c);n.isFunction(A.success)?A.success(p):n.isFunction(A.then)?A.then(p):n.when(A).then(p)},updater:function(c){return e.add(this.map[c]),this.map[c]},matcher:function(c){return c.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(c){return c.sort()},highlighter:function(c){var f=new RegExp("("+this.query+")","gi");return c.replace(f,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var i=null,o={},d=e.options.typeaheadjs;n.isArray(d)?(i=d[0],o=d[1]):o=d,e.$input.typeahead(i,o).on("typeahead:selected",n.proxy(function(c,f){o.valueKey?e.add(f[o.valueKey]):e.add(f),e.$input.typeahead("val","")},e))}e.$container.on("click",n.proxy(function(c){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",n.proxy(function(c){n(".typeahead, .twitter-typeahead",e.$container).length===0&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on({focusin:function(){e.$container.addClass(e.options.focusClass)},focusout:function(){e.$container.removeClass(e.options.focusClass)}}),e.$container.on("keydown","input",n.proxy(function(c){var f=n(c.target),p=e.findInputWrapper();if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}switch(c.which){case 8:if(u(f[0])===0){var R=p.prev();R.length&&e.remove(R.data("item"))}break;case 46:if(u(f[0])===0){var A=p.next();A.length&&e.remove(A.data("item"))}break;case 37:var x=p.prev();f.val().length===0&&x[0]&&(x.before(p),f.focus());break;case 39:var E=p.next();f.val().length===0&&E[0]&&(E.after(p),f.focus());break;default:}var C=f.val().length,I=Math.ceil(C/5),P=C+I+1;f.attr("size",Math.max(this.inputSize,f.val().length))},e)),e.$container.on("keypress","input",n.proxy(function(c){var f=n(c.target);if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}var p=f.val(),R=e.options.maxChars&&p.length>=e.options.maxChars;e.options.freeInput&&(m(c,e.options.confirmKeys)||R)&&(p.length!==0&&(e.add(R?p.substr(0,e.options.maxChars):p),f.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&c.preventDefault());var A=f.val().length,x=Math.ceil(A/5),E=A+x+1;f.attr("size",Math.max(this.inputSize,f.val().length))},e)),e.$container.on("click","[data-role=remove]",n.proxy(function(c){e.$element.attr("disabled")||e.remove(n(c.target).closest(".tag").data("item"))},e)),e.options.itemValue===g.itemValue&&(e.$element[0].tagName==="INPUT"?e.add(e.$element.val()):n("option",e.$element).each(function(){e.add(n(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return n(t)}},n.fn.tagsinput=function(t,e,a){var i=[];return this.each(function(){var o=n(this).data("tagsinput");if(!o)o=new h(this,t),n(this).data("tagsinput",o),i.push(o),this.tagName==="SELECT"&&n("option",n(this)).attr("selected","selected"),n(this).val(n(this).val());else if(!t&&!e)i.push(o);else if(o[t]!==void 0){if(o[t].length===3&&a!==void 0)var d=o[t](e,null,a);else var d=o[t](e);d!==void 0&&i.push(d)}}),typeof t=="string"?i.length>1?i:i[0]:i},n.fn.tagsinput.Constructor=h;function v(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(i){return i[a]}}}function y(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(){return a}}}var r=n("<div />");function s(t){return t?r.text(t).html():""}function u(t){var e=0;if(document.selection){t.focus();var a=document.selection.createRange();a.moveStart("character",-t.value.length),e=a.text.length}else(t.selectionStart||t.selectionStart=="0")&&(e=t.selectionStart);return e}function m(t,e){var a=!1;return n.each(e,function(i,o){if(typeof o=="number"&&t.which===o)return a=!0,!1;if(t.which===o.which){var d=!o.hasOwnProperty("altKey")||t.altKey===o.altKey,c=!o.hasOwnProperty("shiftKey")||t.shiftKey===o.shiftKey,f=!o.hasOwnProperty("ctrlKey")||t.ctrlKey===o.ctrlKey;if(d&&c&&f)return a=!0,!1}}),a}n(function(){n("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})})(window.jQuery),jQuery.fn.serializeObject=function(){for(var n={},g=this.serializeArray(),h=0,v=g.length;h<v;h++){var y=g[h],r=y.name,s=y.value!=null?y.value:"";n[r]!==void 0?(n[r].push||(n[r]=[n[r]]),n[r].push(s)):n[r]=s}return n},(function(n){T.exports?T.exports=n(l(74692)):n(window.jQuery)})(function(n){function g(t,e,a){var i=a[t];return i===void 0?a[t]=[e]:i.push(e),a}function h(t,e){var a={},i=t.map(function(){return this.elements?n.makeArray(this.elements):this}).filter(e||":input:not(:disabled)").get();return n.each(i,function(o,d){g(d.name,d,a)}),a}function v(t){return(t.type||t.nodeName).toLowerCase()}function y(t){var e={},a=/\+/g;return n.isPlainObject(t)?(n.extend(e,t),n.each(e,function(i,o){n.isArray(o)||(e[i]=[o])})):n.isArray(t)?n.each(t,function(i,o){g(o.name,o.value,e)}):typeof t=="string"&&n.each(t.split("&"),function(i,o){var d=o.split("="),c=decodeURIComponent(d[0].replace(a,"%20")),f=decodeURIComponent(d[1].replace(a,"%20"));g(c,f,e)}),e}var r={checked:["radio","checkbox"],selected:["option","select-one","select-multiple"],value:["button","color","date","datetime","datetime-local","email","hidden","month","number","password","range","reset","search","submit","tel","text","textarea","time","url","week"]};function s(t){var e=v(t),a=void 0;return n.each(r,function(i,o){if(n.inArray(e,o)>-1)return a=i,!1}),a}function u(t,e,a,i,o){var d=s(t);if(d=="value"&&e==i)t.value=a,o.call(t,a);else if(d=="checked"||d=="selected"){var c=[];t.options?n.each(t.options,function(f,p){c.push(p)}):c.push(t),t.multiple&&i==0&&(t.selectedIndex=-1),n.each(c,function(f,p){p.value==a&&(p[d]=!0,o.call(p,a))})}}var m={change:n.noop,complete:n.noop};n.fn.deserialize=function(t,e){n.isFunction(e)&&(e={complete:e}),e=n.extend(m,e||{}),t=y(t);var a=h(this,e.filter);return n.each(t,function(i,o){n.each(a[i],function(d,c){n.each(o,function(f,p){u(c,d,p,f,e.change)})})}),e.complete.call(this),this}}),Promise.resolve().then(function(){var n=[l(17459),l(33530)];(function(g,h){"use strict";Object.defineProperty?Object.defineProperty(window,"bootbox",{configurable:!0,enumerable:!0,get:function(){return console.warn('[deprecated] Accessing bootbox globally is deprecated. Use `require(["bootbox"], function (bootbox) { ... })` instead'),h}}):window.bootbox=h,h.setDefaults({locale:config.userLang});var v=g.Translator.create(),y=h.dialog,r=["placeholder","title","value","label"];h.dialog=function(s){var u=s.show!==!1;s.show=!1;var m=y.call(h,s),t=m[0];return/\[\[.+\]\]/.test(t.outerHTML)?v.translateInPlace(t,r).then(function(){u&&m.modal("show")}):u&&m.modal("show"),m},Promise.all([v.translateKey("modules:bootbox.ok",[]),v.translateKey("modules:bootbox.cancel",[]),v.translateKey("modules:bootbox.confirm",[])]).then(function(s){var u=g.getLanguage();h.addLocale(u,{OK:s[0],CANCEL:s[1],CONFIRM:s[2]}),h.setLocale(u)})}).apply(null,n)}).catch(l.oe),l.e(74953).then(function(){var n=[l(46243)];(function(g){$(window).on("composer:autocomplete:init chat:autocomplete:init",function(h,v){g.init(),v.strategies.push(g.strategy)}),$(window).on("action:chat.loaded",(h,v)=>{const y=$(v),r=y.find('[component="chat/input"]')[0];y.find('[data-action="emoji"]').on("click",u=>{l.e(86924).then(function(){var m=[l(86924)];(function(t){t.toggleForInsert(r,0,0,u)}).apply(null,m)}).catch(l.oe)})})}).apply(null,n)}).catch(l.oe)})}]);
