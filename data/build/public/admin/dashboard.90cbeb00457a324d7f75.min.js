"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[14037,15794,25432],{29869:(K=>{K.exports=function(x,f,d){f.setGlobal("true",!0),f.setGlobal("false",!1);const I=1440*60*1e3,P={displayMenuItem:L,buildMetaTag:H,buildLinkTag:S,stringify:ee,escape:w,stripTags:te,buildCategoryIcon:k,buildCategoryLabel:N,generateCategoryBackground:B,generateChildrenCategories:E,generateTopicClass:F,membershipBtn:J,spawnPrivilegeStates:V,localeToHTML:U,renderTopicImage:s,renderDigestAvatar:_,userAgentIcons:Z,buildAvatar:Y,increment:A,lessthan:Q,greaterthan:X,generateWroteReplied:G,generateRepliedTo:W,generateWrote:O,encodeURIComponent:z,isoTimeToLocaleString:q,shouldHideReplyContainer:a,humanReadableNumber:r,formattedNumber:p,isNumber:i,txEscape:l,uploadBasename:b,generatePlaceholderWave:h,register:j,__escape:M};function M(e){return e}function L(e,t){const n=e.navigation[t];return!(!n||n.route.match("/users")&&e.user&&!e.user.privileges["view:users"]||n.route.match("/tags")&&e.user&&!e.user.privileges["view:tags"]||n.route.match("/groups")&&e.user&&!e.user.privileges["view:groups"])}function H(e){const t=e.name?'name="'+e.name+'" ':"",n=e.property?'property="'+e.property+'" ':"",o=e.content?'content="'+e.content.replace(/\n/g," ")+'" ':"";return"<meta "+t+n+o+`/>
	`}function S(e){const t=["link","rel","as","type","href","hreflang","sizes","title","crossorigin"],[n,o,D,c,v,g,C,m,y]=t.map(u=>e[u]?`${u}="${e[u]}" `:"");return"<link "+n+o+D+c+C+m+v+g+y+`/>
	`}function ee(e){return JSON.stringify(e).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/g,"&quot;")}function w(e){return x.escapeHTML(e)}function te(e){return x.stripHTMLTags(e)}function k(e,t,n){return e?`<span class="icon d-inline-flex justify-content-center align-items-center align-middle ${n}" style="${B(e)} width:${t}; height: ${t}; font-size: ${parseInt(t,10)/2}px;">${e.icon?`<i class="fa fa-fw ${e.icon}"></i>`:""}</span>`:""}function N(e,t="a",n=""){if(!e)return"";const o=t==="a"?`href="${d}/category/${e.slug}"`:"";return`<${t} component="topic/category" ${o} class="badge px-1 text-truncate text-decoration-none ${n}" style="color: ${e.color};background-color: ${e.bgColor};border-color: ${e.bgColor}!important; max-width: 70vw;">
			${e.icon&&e.icon!=="fa-nbb-none"?`<i class="fa fa-fw ${e.icon}"></i>`:""}
			${e.name}
		</${t}>`}function B(e){if(!e)return"";const t=[];return e.bgColor&&(t.push("background-color: "+e.bgColor),t.push(`border-color: ${e.bgColor}!important`)),e.color&&t.push("color: "+e.color),e.backgroundImage&&(t.push("background-image: url("+e.backgroundImage+")"),e.imageClass&&t.push("background-size: "+e.imageClass)),t.join("; ")+";"}function E(e){let t="";return!e||!e.children||!e.children.length||(e.children.forEach(function(n){if(n&&!n.isSection){const o=n.link?n.link:d+"/category/"+n.slug;t+='<span class="category-children-item float-start"><div role="presentation" class="icon float-start" style="'+B(n)+'"><i class="fa fa-fw '+n.icon+'"></i></div><a href="'+o+'"><small>'+n.name+"</small></a></span>"}}),t=t&&'<span class="category-children">'+t+"</span>"),t}function F(e){return["locked","pinned","deleted","unread","scheduled"].filter(n=>!!e[n]).join(" ")}function J(e,t=""){return e.isMember&&e.name!=="administrators"?`<button class="btn btn-danger ${t}" data-action="leave" data-group="${e.displayName}" ${e.disableLeave?" disabled":""}><i class="fa fa-times"></i> [[groups:membership.leave-group]]</button>`:e.isPending&&e.name!=="administrators"?`<button class="btn btn-warning disabled ${t}"><i class="fa fa-clock-o"></i> [[groups:membership.invitation-pending]]</button>`:e.isInvited?`<button class="btn btn-warning" data-action="rejectInvite" data-group="${e.displayName}">[[groups:membership.reject]]</button><button class="btn btn-success" data-action="acceptInvite" data-group="${e.name}"><i class="fa fa-plus"></i> [[groups:membership.accept-invitation]]</button>`:!e.disableJoinRequests&&e.name!=="administrators"?`<button class="btn btn-success ${t}" data-action="join" data-group="${e.displayName}"><i class="fa fa-plus"></i> [[groups:membership.join-group]]</button>`:""}function V(e,t,n,o){const D=[];for(const[c,v]of Object.entries(n))D.push({name:c,state:v,type:o[c]});return D.map(function(c){const v=["groups:moderate","groups:posts:upvote","groups:posts:downvote","groups:local:login","groups:group:create"],g=["groups:find","groups:read","groups:topics:read","groups:view:users","groups:view:tags","groups:view:groups"],C=["groups:moderate"];let m=["groups:view:users","groups:find","groups:read","groups:topics:read","groups:topics:create","groups:topics:reply","groups:topics:tag","groups:posts:edit","groups:posts:history","groups:posts:delete","groups:posts:upvote","groups:posts:downvote","groups:topics:delete"];e===-1&&(m=m.slice(3));const y=t==="guests"&&(v.includes(c.name)||c.name.startsWith("groups:admin:"))||t==="spiders"&&!g.includes(c.name)||t==="fediverse"&&!m.includes(c.name)||t==="Global Moderators"&&C.includes(c.name);return`
				<td data-privilege="${c.name}" data-value="${c.state}" data-type="${c.type}">
					<div class="form-check text-center">
						<input class="form-check-input float-none${y?' d-none"':""}" autocomplete="off" type="checkbox"${c.state?" checked":""}${y?' disabled="disabled" aria-diabled="true"':""} />
					</div>
				</td>
			`}).join("")}function U(e,t){return e=e||t||"en-GB",e.replace("_","-")}function s(e){return e.thumb?'<img src="'+e.thumb+'" class="img-circle user-img" title="'+e.user.displayname+'" />':'<img component="user/picture" data-uid="'+e.user.uid+'" src="'+e.user.picture+'" class="user-img" title="'+e.user.displayname+'" />'}function _(e){return e.teaser?e.teaser.user.picture?'<img style="vertical-align: middle; width: 32px; height: 32px; border-radius: 50%;" src="'+e.teaser.user.picture+'" title="'+e.teaser.user.username+'" />':'<div style="vertical-align: middle; width: 32px; height: 32px; line-height: 32px; font-size: 16px; background-color: '+e.teaser.user["icon:bgColor"]+'; color: white; text-align: center; display: inline-block; border-radius: 50%;">'+e.teaser.user["icon:text"]+"</div>":e.user.picture?'<img style="vertical-align: middle; width: 32px; height: 32px; border-radius: 50%;" src="'+e.user.picture+'" title="'+e.user.username+'" />':'<div style="vertical-align: middle; width: 32px; height: 32px; line-height: 32px; font-size: 16px; background-color: '+e.user["icon:bgColor"]+'; color: white; text-align: center; display: inline-block; border-radius: 50%;">'+e.user["icon:text"]+"</div>"}function Z(e){let t="";switch(e.platform){case"Linux":t+='<i class="fa fa-fw fa-linux"></i>';break;case"Microsoft Windows":t+='<i class="fa fa-fw fa-windows"></i>';break;case"Apple Mac":t+='<i class="fa fa-fw fa-apple"></i>';break;case"Android":t+='<i class="fa fa-fw fa-android"></i>';break;case"iPad":t+='<i class="fa fa-fw fa-tablet"></i>';break;case"iPod":case"iPhone":t+='<i class="fa fa-fw fa-mobile"></i>';break;default:t+='<i class="fa fa-fw fa-question-circle"></i>';break}switch(e.browser){case"Chrome":t+='<i class="fa fa-fw fa-chrome"></i>';break;case"Firefox":t+='<i class="fa fa-fw fa-firefox"></i>';break;case"Safari":t+='<i class="fa fa-fw fa-safari"></i>';break;case"IE":t+='<i class="fa fa-fw fa-internet-explorer"></i>';break;case"Edge":t+='<i class="fa fa-fw fa-edge"></i>';break;default:t+='<i class="fa fa-fw fa-question-circle"></i>';break}return t}function Y(e,t,n,o,D){e||(e=this),o=o||"";const c=new Map([["title",e.displayname],["data-uid",e.uid],["class",`avatar ${o}${n?" avatar-rounded":""}`]]),v=[`--avatar-size: ${t};`],g=m=>Array.from(m).reduce((y,[u,T])=>(y+=` ${u}="${T}"`,y),"");let C="";return e.picture&&(C+=`<img${g(c)} alt="${e.displayname}" loading="lazy" component="${D||"avatar/picture"}" src="${e.picture}" style="${v.join(" ")}" onError="this.remove()" itemprop="image" />`),C+=`<span${g(c)} component="${D||"avatar/icon"}" style="${v.join(" ")} background-color: ${e["icon:bgColor"]}">${e["icon:text"]}</span>`,C}function A(e,t){return String(e+parseInt(t,10))}function Q(e,t){return parseInt(e,10)<parseInt(t,10)}function X(e,t){return parseInt(e,10)>parseInt(t,10)}function G(e,t){return e.toPid?W(e,t):O(e,t)}function W(e,t){const n=e.parent&&e.parent.displayname?e.parent.displayname:"[[global:guest]]";return`[[topic:replied-to-user-${e.timestamp<Date.now()-t*I?"on":"ago"}, ${e.toPid}, ${d}/post/${encodeURIComponent(e.toPid)}, ${n}, ${d}/post/${encodeURIComponent(e.pid)}, ${e.timestampISO}]]`}function O(e,t){return`[[topic:wrote-${e.timestamp<Date.now()-t*I?"on":"ago"}, ${d}/post/${encodeURIComponent(e.pid)}, ${e.timestampISO}]]`}function z(e){return encodeURIComponent(e)}function q(e,t="en-GB"){return new Date(e).toLocaleString([t],{dateStyle:"short",timeStyle:"short"}).replace(/,/g,"&#44;")}function a(e){return!!(e.replies.count<=0||e.replies.hasSingleImmediateReply)}function r(e,t=1){return x.makeNumberHumanReadable(e,t)}function p(e){return x.addCommas(e)}function i(e){return x.isNumber(e)}function l(e){return String(e).replace(/%/g,"&#37;").replace(/,/g,"&#44;")}function b(e,t="/"){const n=/^\d+-/,o=e.substr(e.lastIndexOf(t)+1);return n.test(o)?o.slice(14):o}function h(e){return e.map(n=>n==="divider"?'<li class="dropdown-divider"></li>':`
			<li class="dropdown-item placeholder-wave">
				<div class="placeholder" style="width: 20px;"></div>
				<div class="placeholder col-${n}"></div>
			</li>`).join("")}function j(){Object.keys(P).forEach(function(e){f.registerHelper(e,P[e])})}return P}}),30076:((K,x,f)=>{var d,I;const P=f(29869);d=[f(77918),f(81335)],I=(function(M,L){return P(M,L,config.relative_path)}).apply(x,d),I!==void 0&&(K.exports=I)}),37971:((K,x,f)=>{f.r(x),f.d(x,{init:()=>V});var d=f(70106),I=f(81335),P=f.n(I),M=f(33530),L=f.n(M),H=f(29930),S=f(17459),ee=f.n(S),w=f(30076),te=f.n(w);d.t1.register(d.ZT,d.ju,d.PP,d.kc,d.No,d.FN,d.Bs,d.m_,d.dN,d.s$);const k={rooms:!1,graphs:!1};let N=!1;const B={rooms:{},traffic:{}},E={units:"hours",until:void 0},F={roomInterval:1e4,graphInterval:15e3,realtimeInterval:1500},J=[];$(window).on("action:ajaxify.start",function(){clearInterval(k.rooms),clearInterval(k.graphs),k.rooms=null,k.graphs=null,B.rooms=null,B.traffic=null,J.length=0});function V(){app.enterRoom("admin"),N=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),W(),O(),Y(function(){socket.emit("admin.rooms.getAll",U),z()}),q()}function U(a,r){if(a)return H.error(a);JSON.stringify(B.rooms)!==JSON.stringify(r)&&(B.rooms=r,Q(r.onlineRegisteredCount,r.onlineGuestCount),X(r.users),G(r.topTenTopics),$("#active-users-loggedin").text((0,w.formattedNumber)(r.onlineRegisteredCount)),$("#active-users-guests").text((0,w.formattedNumber)(r.onlineGuestCount)),$("#active-users-total").text((0,w.formattedNumber)(r.onlineRegisteredCount+r.onlineGuestCount)),$("#active-users-connections").text((0,w.formattedNumber)(r.socketCount)))}const s={traffic:null,registered:null,presence:null,topics:null},_=["#bf616a","#5B90BF","#d08770","#ebcb8b","#a3be8c","#96b5b4","#8fa1b3","#b48ead","#ab7967","#46BFBD"];function Z(a,r){let p=!1;a[0]==="#"&&(a=a.slice(1),p=!0);const i=parseInt(a,16);let l=(i>>16)+r;l>255?l=255:l<0&&(l=0);let b=(i>>8&255)+r;b>255?b=255:b<0&&(b=0);let h=(i&255)+r;return h>255?h=255:h<0&&(h=0),(p?"#":"")+(h|b<<8|l<<16).toString(16)}function Y(a){a=a||function(){};const r=document.getElementById("analytics-traffic"),p=document.getElementById("analytics-registered"),i=document.getElementById("analytics-presence"),l=document.getElementById("analytics-topics"),b=r.getContext("2d"),h=p.getContext("2d"),j=i.getContext("2d"),e=l.getContext("2d"),t=utils.getHoursArray();N&&(d.t1.defaults.plugins.tooltip.enabled=!1);const n=S.Translator.create();Promise.all([n.translateKey("admin/dashboard:graphs.page-views",[]),n.translateKey("admin/dashboard:graphs.page-views-registered",[]),n.translateKey("admin/dashboard:graphs.page-views-guest",[]),n.translateKey("admin/dashboard:graphs.page-views-bot",[]),n.translateKey("admin/dashboard:graphs.page-views-ap",[]),n.translateKey("admin/dashboard:graphs.unique-visitors",[]),n.translateKey("admin/dashboard:graphs.registered-users",[]),n.translateKey("admin/dashboard:graphs.guest-users",[]),n.translateKey("admin/dashboard:on-categories",[]),n.translateKey("admin/dashboard:reading-posts",[]),n.translateKey("admin/dashboard:browsing-topics",[]),n.translateKey("admin/dashboard:recent",[]),n.translateKey("admin/dashboard:unread",[])]).then(function(o){const c={labels:t,datasets:[{label:o[0],fill:"origin",tension:.25,backgroundColor:"rgba(220,220,220,0.2)",borderColor:"rgba(220,220,220,1)",pointBackgroundColor:"rgba(220,220,220,1)",pointHoverBackgroundColor:"#fff",pointBorderColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{label:o[1],fill:"origin",tension:.25,backgroundColor:"#ab464233",borderColor:"#ab4642",pointBackgroundColor:"#ab4642",pointHoverBackgroundColor:"#ab4642",pointBorderColor:"#fff",pointHoverBorderColor:"#ab4642",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{label:o[2],fill:"origin",tension:.25,backgroundColor:"#ba8baf33",borderColor:"#ba8baf",pointBackgroundColor:"#ba8baf",pointHoverBackgroundColor:"#ba8baf",pointBorderColor:"#fff",pointHoverBorderColor:"#ba8baf",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{label:o[3],fill:"origin",tension:.25,backgroundColor:"#f7ca8833",borderColor:"#f7ca88",pointBackgroundColor:"#f7ca88",pointHoverBackgroundColor:"#f7ca88",pointBorderColor:"#fff",pointHoverBorderColor:"#f7ca88",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{label:o[4],fill:"origin",tension:.25,backgroundColor:"rgba(151,187,205,0.2)",borderColor:"rgba(110, 187, 132, 1)",pointBackgroundColor:"rgba(110, 187, 132, 1)",pointHoverBackgroundColor:"rgba(110, 187, 132, 1)",pointBorderColor:"#fff",pointHoverBorderColor:"rgba(110, 187, 132, 1)",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{label:o[5],fill:"origin",tension:.25,backgroundColor:"rgba(151,187,205,0.2)",borderColor:"rgba(151,187,205,1)",pointBackgroundColor:"rgba(151,187,205,1)",pointHoverBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"#fff",pointHoverBorderColor:"rgba(151,187,205,1)",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]};r.width=$(r).parent().width(),c.datasets[0].yAxisID="left-y-axis",c.datasets[1].yAxisID="left-y-axis",c.datasets[2].yAxisID="left-y-axis",c.datasets[3].yAxisID="left-y-axis",c.datasets[4].yAxisID="left-y-axis",c.datasets[5].yAxisID="right-y-axis",s.traffic=new d.t1(b,{type:"line",data:c,options:{responsive:!0,scales:{"left-y-axis":{position:"left",type:"linear",title:{display:!0,text:o[0]},beginAtZero:!0},"right-y-axis":{position:"right",type:"linear",title:{display:!0,text:o[5]},beginAtZero:!0}},plugins:{legend:{position:"bottom"}},interaction:{intersect:!1,mode:"index"}}});const v={responsive:!0,plugins:{legend:{display:!1}}};s.registered=new d.t1(h,{type:"doughnut",data:{labels:o.slice(5,7),datasets:[{data:[1,1],backgroundColor:["#F7464A","#46BFBD"],hoverBackgroundColor:["#FF5A5E","#5AD3D1"]}]},options:v}),s.presence=new d.t1(j,{type:"doughnut",data:{labels:o.slice(7,12),datasets:[{data:[1,1,1,1,1],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#9FB194"],hoverBackgroundColor:["#FF5A5E","#5AD3D1","#FFC870","#A8B3C5","#A8B3C5"]}]},options:v}),s.topics=new d.t1(e,{type:"doughnut",data:{labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},options:v}),A(),$('[data-action="updateGraph"]:not([data-units="custom"])').on("click",function(){let g=new Date;const C=$(this).attr("data-amount");$(this).attr("data-units")==="days"&&g.setHours(0,0,0,0),g=g.getTime(),A($(this).attr("data-units"),g,C),Promise.resolve().then(function(){var m=[f(17459)];(function(y){y.translate("[[admin/dashboard:page-views-custom]]",function(u){$('[data-action="updateGraph"][data-units="custom"]').text(u)})}).apply(null,m)}).catch(f.oe)}),$('[data-action="updateGraph"][data-units="custom"]').on("click",function(){const g=$(this);I.render("admin/partials/pageviews-range-select",{}).then(function(C){const m=M.dialog({title:"[[admin/dashboard:page-views-custom]]",message:C,buttons:{submit:{label:"[[global:search]]",className:"btn-primary",callback:y}}}).on("shown.bs.modal",function(){const u=new Date,T=u.toISOString().slice(0,10);u.setDate(u.getDate()-1);const R=u.toISOString().slice(0,10);m.find("#startRange").val(g.attr("data-startRange")||R),m.find("#endRange").val(g.attr("data-endRange")||T)});function y(){const u=m.find("form").serializeObject(),T=/\d{4}-\d{2}-\d{2}/;if(!u.startRange&&!u.endRange){A("days");return}else if(!T.test(u.startRange)||!T.test(u.endRange))return m.find(".alert-danger").removeClass("hidden"),!1;let R=new Date(u.endRange);R.setDate(R.getDate()+1),R=R.getTime();const ae=(R-new Date(u.startRange).getTime())/(1e3*60*60*24);A("days",R,ae),g.attr("data-startRange",u.startRange),g.attr("data-endRange",u.endRange),g.html(u.startRange+" &ndash; "+u.endRange)}})}),a()})}function A(a,r,p){app.isFocused&&socket.emit("admin.analytics.get",{graph:"traffic",units:a||"hours",until:r,amount:p},function(i,l){if(i)return H.error(i);if(JSON.stringify(B.traffic)===JSON.stringify(l))return;B.traffic=l,a==="days"?s.traffic.data.xLabels=utils.getDaysArray(r,p):(s.traffic.data.xLabels=utils.getHoursArray(),$("#pageViewsThirty").html((0,w.formattedNumber)(l.summary.thirty)),$("#pageViewsSeven").html((0,w.formattedNumber)(l.summary.seven)),$("#pageViewsPastDay").html((0,w.formattedNumber)(l.pastDay))),s.traffic.data.datasets[0].data=l.pageviews,s.traffic.data.datasets[1].data=l.pageviewsRegistered,s.traffic.data.datasets[2].data=l.pageviewsGuest,s.traffic.data.datasets[3].data=l.pageviewsBot,s.traffic.data.datasets[4].data=l.appageviews,s.traffic.data.datasets[5].data=l.uniqueVisitors,s.traffic.data.labels=s.traffic.data.xLabels,s.traffic.update(),E.units=a,E.until=r,E.amount=p;const b=$("#view-as-json"),h=$.param({units:a||"hours",until:r,count:p});b.attr("href",config.relative_path+"/api/admin/analytics?"+h)})}function Q(a,r){$("#analytics-legend .registered").parent().find(".count").text(a),$("#analytics-legend .guest").parent().find(".count").text(r),s.registered.data.datasets[0].data[0]=a,s.registered.data.datasets[0].data[1]=r,s.registered.update()}function X(a){$("#analytics-presence-legend .on-categories").parent().find(".count").text(a.categories),$("#analytics-presence-legend .reading-posts").parent().find(".count").text(a.topics),$("#analytics-presence-legend .browsing-topics").parent().find(".count").text(a.category),$("#analytics-presence-legend .recent").parent().find(".count").text(a.recent),$("#analytics-presence-legend .unread").parent().find(".count").text(a.unread),s.presence.data.datasets[0].data[0]=a.categories,s.presence.data.datasets[0].data[1]=a.topics,s.presence.data.datasets[0].data[2]=a.category,s.presence.data.datasets[0].data[3]=a.recent,s.presence.data.datasets[0].data[4]=a.unread,s.presence.update()}function G(a){if(!a.length){S.translate("[[admin/dashboard:no-users-browsing]]",function(p){a=[{title:p,count:1}],G(a)});return}s.topics.data.labels=[],s.topics.data.datasets[0].data=[],s.topics.data.datasets[0].backgroundColor=[],s.topics.data.datasets[0].hoverBackgroundColor=[],a.forEach(function(p,i){s.topics.data.labels.push(p.title),s.topics.data.datasets[0].data.push(p.count),s.topics.data.datasets[0].backgroundColor.push(_[i]),s.topics.data.datasets[0].hoverBackgroundColor.push(Z(_[i],10))});function r(){let p="";a.forEach(function(i,l){const b=i.tid?'<a title="'+i.title+'"href="'+config.relative_path+"/topic/"+i.tid+'" target="_blank"> '+i.title+"</a>":i.title,h=i.count==="0"?i.title:b;p+='<li><div style="background-color: '+_[l]+';"></div><span> ('+i.count+") "+h+"</span></li>"}),$("#topics-legend").translateHtml(p)}r(),s.topics.update()}function W(){let a=localStorage.getItem("data-bs-theme")||"light";$("#toggle-dark-mode").prop("checked",a==="dark").on("click",function(){a=$(this).is(":checked")?"dark":"light",$("html").attr("data-bs-theme",a),localStorage.setItem("data-bs-theme",a)})}function O(){$("#toggle-realtime").on("click",function(){z($(this).is(":checked"))})}function z(a){clearInterval(k.rooms),clearInterval(k.graphs),k.rooms=setInterval(function(){app.isFocused&&socket.connected&&socket.emit("admin.rooms.getAll",U)},a?F.realtimeInterval:F.roomInterval),k.graphs=setInterval(function(){A(E.units,E.until,E.amount)},a?F.realtimeInterval:F.graphInterval)}function q(){const a=document.getElementById("analytics-panel"),r=$(a),p=r.find("#expand-analytics");let i,l;a.requestFullscreen?(i="requestFullscreen",l="exitFullscreen"):a.mozRequestFullScreen?(i="mozRequestFullScreen",l="mozCancelFullScreen"):a.webkitRequestFullscreen?(i="webkitRequestFullscreen",l="webkitCancelFullScreen"):a.msRequestFullscreen&&(i="msRequestFullscreen",l="msCancelFullScreen"),i&&p.on("click",function(){r.hasClass("fullscreen")?(document[l](),r.removeClass("fullscreen")):(a[i](),r.addClass("fullscreen"))})}})}]);
